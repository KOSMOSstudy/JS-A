# 9주차 JS 스터디 정리

| 장   | 제목               |
| ---- | ------------------ |
| 11장 | 노드 서비스 테스트하기 |

## 11장

### 11.1 테스트 준비하기

테스트에 사용할 패키지는 jest → 페이스북에서 만든 오픈소스로, 테스팅에 필요한 툴들을 대부분 갖추고 있어 편리

npm test 로 테스트 코드 실행

- 테스트를 작성하지 않은 상태에는 에러가 발생함
- expect 함수에는 실제 코드 / toEqual 함수의 인수에는 예상되는 결과값 넣기

### 11.2 유닛 테스트

- 유닛 테스트(단위테스트) : 작은 단위의 함수나 모듈이 의도된 대로 정확히 작동하는지 테스트
- 모킹 : 가짜 객체, 가짜 함수를 넣는 행위 / 코드를 테스트를 할 때는 테스트용 함수를 만들어서 사용
- isLoggedIn과 isNotLoggedIn 함수 테스트 : 테스트용 파일은 파일명과 확장자 사이에 test나 spec을 넣기
- .describe(name, fn) : 테스트를 그룹화해줌 / 첫 번째 인수-그룹에 대한 설명, 두 번째 인수-그룹에 대한 내용
- 컨트롤러 : 라우터에서 응답을 보내는 미들웨어

### 11.3 테스트 커버리지

- 커버리지 : 전체 코드 중에서 테스트되고 있는 코드의 비율과 테스트되고 있지 않은 코드의 위치를 알려주는 jest의 기능 / package.json에 jest설정을 입력하여 사용함

### 11.4 통합 테스트

- 통합 테스트 : 하나의 라우터에는 여러 개의 미들웨어가 붙어 있고, 다양한 라이브러리가 사용되는데 이런 것들이 모두 유기적으로 잘 작동되는지 테스트하는 것
- 통합 테스트에서는 데이터베이스에서 태스트용 데이터가 저장됨

### 11.5 부하 테스트

- 부하 테스트 : 서버가 얼마만큼의 요청을 견딜 수 있는지 테스트하는 방법
- 부하 테스트를 통해 OOM같은 문제 등을 어느 정도 예측 가능함 → artillery
- Request latency에서 보통 median과 p95의 차이가 적을수록 대부분의 요청이 비슷한 속도로 처리되었다는 의미
- Senarios counts : 총 사용자 수
- Codes : HTTP 상태 코드


### 11.6 프로젝트 마무리하기

---
