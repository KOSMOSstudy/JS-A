참고자료 : [VanillaJS_CH4](https://learnjs.vlpt.us/html/)





# 4장. HTML과 JavaScript 연동하기



## 0. 

사용자 인터랙션에 따라 동적 UI 업데이트를 하려면 JavaScript 연동 필요



인터랙션 많은 경우 React, Vue, Angular 등의 도구 사용

- Vanilla JavaScript 사용하기에는 코드 양 多, 코드 관리 어려움



## 1. 카운터

버튼 클릭 시 숫자가 올라가거나 내려가는 것



```html
 <h2 id="number">0</h2>
    <div>
      <button id="increase">+1</button>
      <button id="decrease">-1</button>
    </div>
```



id 설정 시 JavaScript에서 쉽게 해당 DOM을 선택 가능

DOM : 각 태그에 대한 정보를 지니고 있는 JavaScript 객체



### 1.1 DOM 선택하기

```javascript
const number = document.getElementById("number");
const increase = document.getElementById("increase");
const decrease = document.getElementById("decrease");

console.log(number.innerText); // 내용
console.log(increase.offsetTop); // top 위치
console.log(decrease.id); // id
```



### 1.2 이벤트 설정하기

```javascript
increase.onclick = () => {
  const current = parseInt(number.innerText, 10);
  number.innerText = current + 1;
};

decrease.onclick = () => {
  const current = parseInt(number.innerText, 10);
  number.innerText = current - 1;
};
```





## 2. 모달 만들기

모달 : 기존의 내용을 가리고 나타나는 메시지박스 같은 형태의 UI





---

참고자료 : Node.js 교과서



# 1장. 노드 시작하기



## 1.1 핵심 개념 이해하기

Node.js : Chrome V8 Javascript 엔진으로 빌드된 Javascript 런타임

- 노드는 서버만 실행할 수 있는 게 아님



### 1.1.1 서버

네트워크를 통해 클라이언트에 정보, 서비스를 제공하는 컴퓨터 또는 프로그램

- 클라이언트 : 요청을 보내는 주체
  - 브라우저, 데스크톱 프로그램, 모바일 앱, 다른 서버에 요청을 보내는 서버 등



서버는 클라이언트의 요청에 응답을 함

- 응답은 Yes일 수도 있고, No일 수도 있음



자바스크립트는 프로그램이 서버로서 기능하기 위한 도구를 제공

- 즉, 서버 역할 수행 가능



### 1.1.2 자바스크립트 런타임

노드 = 자바스크립트 런타임



런타임 : 특정 언어로 만든 프로그램들을 실행할 수 있는 환경

- 노드는 자바스크립트 프로그램을 컴퓨터에서 실행할 수 있음
- 노드 = 자바스크립트 실행기



기존 자바스크립트

- 웹 브라우저 위에서만 실행할 수 있었음
- 브라우저는 자바스크립트 런타임을 내장 -> 코드 실행 가능



구글의 크롬 출시

- 다른 JS 엔진과 달리 속도가 매우 빠른 V8엔진 사용
- 오픈소스로 코드 공개



노드는 V8과 libuv 라이브러리 사용

- C와 C++로 구현되어 있음
- 노드가 알아서 JS와 V8, libuv를 연결해 줌 -> C와 C++몰라도 됨



libuv 라이브러리

- 노드의 특성인 이벤트 기반, 논 블로킹 I/O 모델 구현



### 1.1.3 이벤트 기반

이벤트가 발생할 때 미리 지정해둔 작업을 수행하는 방식을 의미

예) 클릭, 네트워크 요청 등



특정 이벤트 발생 시 무엇을 할지 미리 등록해두어야 함

='이벤트 리스너(event listener)에 콜백(callback)함수를 등록한다'

- 이벤트 발생 시 이벤트 리스너에 등록해둔 콜백 함수를 호출
- 발생한 이벤트가 없거나 발생한 이벤트 다 처리 시, 노드는 다음 이벤트 발생 시까지 대기



이벤트 루프(event loop)

- 이벤트 발생 시 호출할 콜백 함수들 관리
- 여러 이벤트가 동시에 발생했을 때 어떤 순서로 콜백 함수를 호출할지 결정
- 노드와 자바스크립트에서 중요한 개념
- 노드가 종료될 때까지 이벤트 처리를 위한 작업 반복



백그라운드

- 이벤트 리스너들이 대기하는 곳
- 자바스크립트가 아닌 다른 언어로 작성된 프로그램이라고 봐도 됨
- 여러 작업이 동시에 실행될 수 있음



태스크 큐

- 이벤트 발생 후, 백그라운드에서 태스크 큐로 타이머나 이벤트 리스너의 콜백함수를 보냄
- 콜백 큐라고도 부름
- 보통 콜백들은 완료된 순서대로 줄을 서 있음
- 특정한 경우 순서가 바뀌기도 함



### 1.1.4 논블로킹 I/O

- 기본적으로 자바스크립트 코드는 동시에 실행될 수 없음
- 자바스크립트상에서 돌아가는 것이아닌 I/O 작업 같은 건 동시에 처리될 수 있음



예) 파일 시스템 접근(파일 읽기, 파일 쓰기, 폴더 만들기 등), 네트워크를 통한 요청 등



논 블로킹

- 이전 작업이 완료될 때까지 대기하지 않고 다음 작업을 수행



블로킹

- 이전 작업이 끝나야만 다음 작업을 수행



블로킹 방식보다는 논 블로킹 방식이 같은 작업을 더 짧은 시간에 처리 가능. but 작업들이 모두 동시에 처리될 수 있는 작업일 경우에 한함



### 1.1.5 싱글 스레드

스레드가 하나뿐이라는 것

작업을 처리하는 일손이 하나

- 자바스크립트 코드가 동시에 실행될 수 없는 이유

- 블로킹이 심하게 일어나는 작업만 아니라면 스레드 하나로도 충분



1. 노드 실행 시 프로세스 하나가 생성됨
2. 그 프로세스에서 스레드들을 생성
3. 내부적으로 여러 개의 스레드를 생성
4. 직접 우리가 제어할 수 있는 스레드는 하나뿐 -> 노드 = 싱글스레드



## 1.2 서버로서의 노드

개수는 많지만 크기는 작은 데이터를 실시간으로 주고받는 데 적합

네트워크, 데이터베이스, 디스크 작업 같은 I/O에 특화

실시간 채팅 어플리케이션, 주식 차트, JSON 데이터 제공하는 API서버 등



노드12버전

- 워커 스레드 기능 안정화
- 멀티 스레드 작업 가능해짐
- 싱글 스레드에 비해 어려움
- C, C++, Rust, Go에 비해 속도 느림



웹 서버가 내장

- 입문자가 쉽게 접근 가능



아파치, nginx, IIS처럼 별도의 웹 서버, 웹 애플리케이션 서버(WAS) 설치 필요한 경우 多

- 웹서버와 WAS사용법 익혀야 함



XML대신 JSON사용한 데이터 교환에 유리

- JSON이 자바스크립트 형식이기 때문



안정성, 보안성 검증 충분함

- NASA, 에어비앤비, 우버, 넷플릭스, 링크드인 등
- 페이팔, 이베이 등 결제시스템
- 네이버, 카카오, 위메프, 야놀자 등





## 1.3 서버 외의 노드

서버 외

웹, 모바일, 데스크톱 애플리케이션 개발에도 사용



웹 프레임워크

- Angular, React, Vue 등



모바일 개발 도구

- React Native



데스크톱 개발 도구

- Electron

  - Atom, Slack, Discord
